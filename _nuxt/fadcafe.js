(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{539:function(t,e,n){"use strict";n.r(e);n(27);var r=n(516),o=n(113),c=n.n(o),l={name:"Chart",extends:r.a,props:["u"],data:function(){return{uris:[]}},watch:{u:function(){this.init()}},created:function(){this.init()},methods:{handle:function(t,e){var n=e[0];if(n){var r=this.uris[n._index],o="\n        SELECT DISTINCT ?cho ?label ?image WHERE {\n          {\n            ?cho rdfs:label ?label;\n            schema:creator/owl:sameAs? <".concat(this.u,"> \n          } UNION {\n            ?cho rdfs:label ?label;\n            ?x ?y . ?y <https://jpsearch.go.jp/term/property#value> <").concat(this.u,">\n          }\n          ?cho rdfs:label ?label ;  jps:sourceInfo/schema:provider <").concat(r,"> .\n          OPTIONAL {?cho schema:image ?image}\n        }\n      "),c="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(o);open(c,"_blank")}else console.log({point:t})},init:function(){var t=this;this.chartData=[];var e=this.$i18n.locale,n="PREFIX schema: <http://schema.org/> \n";n+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",n+="SELECT (count(distinct ?cho) as ?c) ?pLabel ?name ?provider WHERE { \n",n+=" { ",n+="?cho rdfs:label ?label; \n",n+="schema:creator/owl:sameAs? <"+this.u+"> . \n",n+=" } UNION { ",n+="?cho rdfs:label ?label; \n",n+="?x ?y . ?y <https://jpsearch.go.jp/term/property#value> <"+this.u+"> . \n",n+=" } ",n+="OPTIONAL {?cho schema:image ?thumbnail} \n",n+="?cho jps:sourceInfo ?source . \n",n+="?source schema:provider ?provider . \n",n+="?provider rdfs:label ?pLabel . \n",n+="en"===e?'?provider schema:name ?name . filter(lang(?name) = "en") . \n':"",n+="} group by ?pLabel ?name ?provider order by desc(?c) limit 10\n",c.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(n)+"&output=json").then((function(e){var n=e.data.results.bindings;console.log({results:n});var data={labels:["aaa","ccc","ddd"],datasets:[{label:"Item",data:[10,4,4],borderWidth:1}]},r={scales:{yAxes:[{ticks:{beginAtZero:TextTrackCue}}]},responsive:!0,maintainAspectRatio:!1};t.renderChart(data,r)}))}}},h=n(99),component=Object(h.a)(l,void 0,void 0,!1,null,null,null);e.default=component.exports},580:function(t,e,n){"use strict";n.r(e);n(27),n(297),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),d=n(28),f=n(13),m=n(170),v=n(113),y=n.n(v),j=n(539);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var C=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},O=function(t){Object(l.a)(h,t);var e,n=R(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).endpoint="https://dydra.com/ut-digital-archives/jdta/sparql?query=",t.title=t.$t("Item"),t.id=null,t.results=[],t}return Object(c.a)(h,[{key:"watchR",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.params.entity,n="\n        SELECT distinct ?s ?label WHERE {\n          \n          ?s a ".concat("agent"===e?"dcepk:Agent":"","; dct:title ?label . \n        }\n        LIMIT ").concat(100,"\n      "),this.results=[{label:"中村覚",url:"http://yahoo.co.jp"}],t.next=7,y.a.get(this.endpoint+encodeURIComponent(n)+"&output=json");case 7:r=t.sent,o=r.data.results.bindings,console.log({results:o});case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"head",value:function(){return{title:this.title}}},{key:"type",get:function(){return this.$route.params.entity}},{key:"name",get:function(){var t=this.type;return"spatial"===t?"map":t}},{key:"items",get:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"})},{text:this.$t("タイプ別アイテム数")}]}}]),h}(m.Vue);C([Object(m.Watch)("$route")],O.prototype,"watchR",null);var w=O=C([Object(m.Component)({components:{ChartCount:j.default}})],O),I=n(99),k=n(134),x=n.n(k),E=n(528),T=n(491),L=n(205),A=n(55),component=Object(I.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-sheet",{attrs:{color:"grey lighten-2"}},[n("v-container",{staticClass:"py-4",attrs:{fluid:""}},[n("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.items},scopedSlots:t._u([{key:"divider",fn:function(){return[n("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),n("v-container",{staticClass:"my-10"},[n("ChartCount")],1)],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{ChartCount:n(539).default}),x()(component,{VBreadcrumbs:E.a,VContainer:T.a,VIcon:L.a,VSheet:A.a})}}]);