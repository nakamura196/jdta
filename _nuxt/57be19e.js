(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{493:function(t,e,n){"use strict";n.r(e);n(297);var r=n(26),o=n(41),c=n(34),l=n(28),h=n(13),f=n(170),d=n(512);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},y=function(t){Object(o.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(f.Vue);v([Object(f.Prop)({default:240})],y.prototype,"width",void 0),v([Object(f.Prop)({default:300})],y.prototype,"height",void 0),v([Object(f.Prop)({default:[]})],y.prototype,"data",void 0);var _=y=v([Object(f.Component)({components:{CardItem:d.default}})],y),j=(n(523),n(99)),component=Object(j.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"horizontal-list"},t._l(t.data,(function(e,r){return n("li",{key:r,staticClass:"item"},[n("CardItem",{key:"value_"+r,staticClass:"mt-2 mb-4",attrs:{horizontal:!0,item:e,width:t.width,height:t.height}})],1)})),0)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CardItem:n(512).default})},496:function(t,e,n){"use strict";n.r(e);n(297);var r=n(26),o=n(41),c=n(34),l=n(28),h=n(13),f=n(298);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},v=function(t){Object(o.a)(n,t);var e=d(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).baseUrl="https://nakamura196.github.io/jpsearch2",t}return n}(f.Vue);m([Object(f.Prop)({default:12})],v.prototype,"cols",void 0),m([Object(f.Prop)({default:3})],v.prototype,"sm",void 0),m([Object(f.Prop)({default:[]})],v.prototype,"list",void 0);var y=v=m([f.Component],v),_=n(99),j=n(134),O=n.n(j),R=n(515),w=n(494),k=n(568),C=n(549),I=n(167),x=n(569),E=n(488),P=n(550),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",t._l(t.list,(function(e,r){return n("v-col",{key:r,attrs:{cols:t.cols,sm:t.sm}},[n("v-card",{staticClass:"mb-4",attrs:{"no-body":"",flat:""}},[n("nuxt-link",{attrs:{to:t.localePath(e.path)}},[n("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:e.image,contain:"",width:"100%"}})],1),t._v(" "),n("div",{staticClass:"pa-4"},[n("nuxt-link",{attrs:{to:t.localePath(e.path)}},[n("h3",[t._v(t._s(e.label))])]),t._v(" "),e.description?n("p",{staticClass:"mt-2 mb-0"},[t._v(t._s(e.description))]):t._e()],1),t._v(" "),e.url?[n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[n("a",t._g({attrs:{target:"_blank",href:e.url}},o),[n("img",{attrs:{width:"30px",src:t.baseUrl+"/img/icons/rdf-logo.svg"}})])]}}],null,!0)},[t._v(" "),n("span",[t._v(t._s("RDF"))])])],1)]:t._e()],2)],1)})),1)}),[],!1,null,null,null);e.default=component.exports;O()(component,{VCard:R.a,VCardActions:w.a,VCol:k.a,VDivider:C.a,VImg:I.a,VRow:x.a,VSpacer:E.a,VTooltip:P.a})},497:function(t,e,n){"use strict";n.r(e);n(297);var r=n(26),o=n(35),c=n(41),l=n(34),h=n(28),f=n(13),d=n(170),m=n(513);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},_=function(t){Object(c.a)(n,t);var e=v(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"title",get:function(){return this.item.label}},{key:"url",get:function(){return this.item.url}}]),n}(d.Vue);y([Object(d.Prop)()],_.prototype,"item",void 0);var j=_=y([Object(d.Component)({components:{ShareButtons:m.default}})],_),O=n(99),R=n(134),w=n.n(R),k=n(289),C=n(205),I=n(490),component=Object(O.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{depressed:"",icon:""}},r),[n("v-icon",[t._v("mdi-share-variant")])],1)]}}])},[t._v(" "),n("ShareButtons",{attrs:{url:t.url,title:t.title}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;w()(component,{ShareButtons:n(513).default}),w()(component,{VBtn:k.a,VIcon:C.a,VMenu:I.a})},501:function(t,e,n){"use strict";n.r(e);n(44),n(16),n(297),n(66),n(31),n(62),n(217),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},O=n(531).Network;function R(){for(var t="#",i=0;i<6;i++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}function w(p){return"http://schema.org/agential"===p?"":"http://schema.org/spatial"===p?"":"http://schema.org/temporal"===p?"":""}var k=function(t){Object(l.a)(h,t);var e,n=_(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).nodes=[],t.edges=[],t.options={nodes:{},edges:{color:"lightgray"}},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var u,e,n,r,o,c,l,h,i,f,s,label,d,p,m,v,_,j,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.u,e="\n        SELECT DISTINCT ?p ?s ?label ?keyword ?label_k count(?cho) as ?count \n        ?s2 ?label2 count(?cho2) as ?count2 WHERE { \n          BIND(<".concat(u,"> as ?s)\n          ?cho ?p2 ?s . \n          ?s rdfs:label ?label . \n          ?cho ?p ?keyword . \n          filter (?p != rdf:type && ?p != schema:inLanguage \n          && ?p != schema:temporal && ?p != jps:relationType \n          && ?p != jps:region && ?p != schema:license)\n          filter(?s != ?keyword)\n          ?keyword rdfs:label ?label_k . \n          filter(?label_k != '不明' && ?label_k != 'unknown / not defined')\n        } order by desc(?count) limit 20\n      "),t.next=4,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json");case 4:n=t.sent,r=n.data.results.bindings,o=[],c=[],l={},h={"http://schema.org/agential":"#9E9E9E","http://schema.org/about":"#4CAF50","http://schema.org/spatial":"#FF9800","http://schema.org/temporal":"#795548","http://schema.org/category":"#E91E63","http://schema.org/isPartOf":"#9C27B0"},i=0;case 11:if(!(i<r.length)){t.next=30;break}if(f=r[i],s=f.s.value,l[s]||(l[s]={label:f.label.value,index:Object.keys(l).length,icon:w("http://schema.org/agential"),uri:s,p:"http://schema.org/agential"}),label=f.label.value,label=f.name?f.name.value:label,"不明"!==(d=f.label_k.value)){t.next=20;break}return t.abrupt("continue",27);case 20:for(p=f.p.value,m=["creator","publisher","contributor","provider"],v=0;v<m.length;v++)p=p.replace("http://schema.org/"+m[v],"http://schema.org/agential");h[p]||(h[p]=R()),_=f.keyword.value,l[_]||(l[_]={label:d,index:Object.keys(l).length,icon:w(p),uri:_,p:p}),c.push({from:l[s].index,to:l[_].index,value:Math.min(Number(f.count.value),1e3),title:f.p.value+"（"+Number(f.count.value).toLocaleString()+"）",arrows:"to",color:h[p]});case 27:i++,t.next=11;break;case 30:for(j in l)O=l[j],o.push({id:O.index,label:O.label,shape:"icon",icon:{code:O.icon},uri:O.uri,p:O.p});this.nodes=o,this.edges=c;case 33:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onNodeSelected",value:function(t){var e=t.nodes;if(e.length>0){var n=this.nodes[e[0]],r="item",o={};"http://schema.org/spatial"===n.p?(r="entity",o={entity:"spatial"}):"http://schema.org/about"===n.p&&(r="keyword"),this.$router.push(this.localePath({name:r,params:o,query:{id:n.uri}}),(function(){}),(function(){}))}}}]),h}(m.Vue);j([Object(m.Prop)()],k.prototype,"u",void 0),j([Object(m.Watch)("u")],k.prototype,"watchU",null);var C=k=j([Object(m.Component)({components:{network:O}})],k),I=n(99),x=n(134),E=n.n(x),P=n(515),D=n(491),component=Object(I.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.nodes.length>0?n("v-container",[n("h2",{staticClass:"mt-5 mb-3 text-center"},[t._v(t._s(t.$t("network")))]),t._v(" "),n("v-card",{attrs:{"no-body":"",outlined:"",flat:""}},[n("network",{ref:"network",staticStyle:{height:"600px"},attrs:{nodes:t.nodes,edges:t.edges,options:t.options},on:{click:t.onNodeSelected}})],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports;E()(component,{Network:n(501).default}),E()(component,{VCard:P.a,VContainer:D.a})},503:function(t,e,n){"use strict";n.r(e);n(27),n(44),n(16);var r=n(516),o=n(113),c=n.n(o),l={name:"Chart",extends:r.a,props:["u"],data:function(){return{uris:[]}},watch:{u:function(){this.init()}},created:function(){this.init()},methods:{handle:function(t,e){var n=e[0];if(n){var r=this.uris[n._index],o="\n        SELECT DISTINCT ?cho ?label ?image WHERE {\n          {\n            ?cho rdfs:label ?label;\n            schema:creator/owl:sameAs? <".concat(this.u,"> \n          } UNION {\n            ?cho rdfs:label ?label;\n            ?x ?y . ?y <https://jpsearch.go.jp/term/property#value> <").concat(this.u,">\n          }\n          ?cho rdfs:label ?label ;  jps:sourceInfo/schema:provider <").concat(r,"> .\n          OPTIONAL {?cho schema:image ?image}\n        }\n      "),c="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(o);open(c,"_blank")}else console.log({point:t})},init:function(){var t=this;this.chartData=[];var e=this.$i18n.locale,n="PREFIX schema: <http://schema.org/> \n";n+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",n+="SELECT (count(distinct ?cho) as ?c) ?pLabel ?name ?provider WHERE { \n",n+=" { ",n+="?cho rdfs:label ?label; \n",n+="schema:creator/owl:sameAs? <"+this.u+"> . \n",n+=" } UNION { ",n+="?cho rdfs:label ?label; \n",n+="?x ?y . ?y <https://jpsearch.go.jp/term/property#value> <"+this.u+"> . \n",n+=" } ",n+="OPTIONAL {?cho schema:image ?thumbnail} \n",n+="?cho jps:sourceInfo ?source . \n",n+="?source schema:provider ?provider . \n",n+="?provider rdfs:label ?pLabel . \n",n+="en"===e?'?provider schema:name ?name . filter(lang(?name) = "en") . \n':"",n+="} group by ?pLabel ?name ?provider order by desc(?c) limit 10\n",c.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(n)+"&output=json").then((function(e){for(var n=e.data.results.bindings,r=[],o=[],c=[],i=0;i<n.length;i++){var l=n[i],label=l.pLabel.value;label=l.name?l.name.value:label,r.push(label),o.push(Number(l.c.value)),c.push(l.provider.value)}t.uris=c;var data={labels:r,datasets:[{label:"Item",data:o,borderWidth:1}]},h={scales:{yAxes:[{ticks:{beginAtZero:TextTrackCue}}]},responsive:!0,maintainAspectRatio:!1,onClick:t.handle};t.renderChart(data,h)}))}}},h=n(99),component=Object(h.a)(l,void 0,void 0,!1,null,null,null);e.default=component.exports},505:function(t,e,n){var content=n(522);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("e6022664",content,!0,{sourceMap:!1})},506:function(t,e,n){var content=n(524);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("cdc2c944",content,!0,{sourceMap:!1})},508:function(t,e,n){"use strict";n.r(e);n(297),n(31),n(62),n(217),n(50),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(493),j=n(503);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var R=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},w=function(t){Object(l.a)(h,t);var e,n=O(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).results={results_w_thumbnail:[]},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){for(var t in this.results)this.results[t]=[];this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var u,e,n,r,o,i,c,label,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.u.split("/"),e=u[u.length-1],n="\n        PREFIX ore: <http://www.openarchives.org/ore/terms/>\n        PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n        PREFIX dc: <http://purl.org/dc/elements/1.1/>\n        SELECT distinct ?uri ?label ?image WHERE {\n          BIND(chname:".concat(e,' as ?cname)\n            {\n              ?cname schema:name ?ename. \n              FILTER(lang(?ename)="en")\n              BIND(replace(?ename, ", ", " ") as ?name)\n              ?loduri owl:sameAs ?cname ; \n                rdfs:isDefinedBy <http://dbpedia.org/>.\n              SERVICE SILENT <http://sparql.europeana.eu/> {\n                {?uri dc:creator ?name .} \n                UNION\n                {?proxy dc:creator ?loduri ; ore:proxyFor ?cho .\n                ?uri ore:proxyFor ?cho ; edm:europeanaProxy "false". }\n              ?uri dc:title ?label .\n              ?uri ore:proxyIn [edm:isShownBy ?image ]\n            }\n          }\n        }\n        ORDER BY RAND()\n        LIMIT 20\n      '),t.next=5,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(n)+"&output=json");case 5:for(r=t.sent,o=r.data.results.bindings,i=0;i<o.length;i++)c=o[i],label=c.label.value,l={_id:c.uri.value,href:c.uri.value.replace("/data/","/item/"),_source:{_label:label,_url:c.uri.value,_thumbnail:c.image?c.image.value:"https://jpsearch.go.jp/assets/img/no-image/curation-no-image_greylighter.png"}},this.results.results_w_thumbnail.push(l);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),h}(m.Vue);R([Object(m.Prop)()],w.prototype,"u",void 0),R([Object(m.Watch)("u")],w.prototype,"watchU",null);var k=w=R([Object(m.Component)({components:{HorizontalItems:_.default,Chart:j.default}})],w),C=n(99),I=n(134),x=n.n(I),E=n(491),component=Object(C.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return this.results.results_w_thumbnail.length>0?e("v-container",[e("h2",{staticClass:"mt-5 mb-3 text-center"},[this._v(this._s("Euroepeana"))]),this._v(" "),e("HorizontalItems",{attrs:{data:this.results.results_w_thumbnail}})],1):this._e()}),[],!1,null,null,null);e.default=component.exports;x()(component,{HorizontalItems:n(493).default}),x()(component,{VContainer:E.a})},509:function(t,e,n){"use strict";n.r(e);n(299),n(300),n(27),n(44),n(297),n(31),n(217),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(493);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=function(t){Object(l.a)(h,t);var e,n=j(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).results={results_w_thumbnail:[]},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){for(var t in this.results)this.results[t]=[];this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var u,e,n,r,o,i,c,label,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.u,e=this.$i18n.locale,n='\n        SELECT DISTINCT ?label ?name ?keyword count(?s) as ?count WHERE { \n          ?s jps:agential\n          [jps:relationType/skos:broader?/rdfs:label "制作"; jps:value/owl:sameAs? <'.concat(u,"> ] . \n          ?s schema:about ?keyword . \n          ?keyword rdfs:label ?label . \n          ").concat("ja"===e?"":"OPTIONAL {?keyword schema:name ?name . filter (lang(?name) = 'en')}","\n        }\n        ORDER BY desc(?count)\n        LIMIT ").concat(20,"\n      "),t.next=6,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(n)+"&output=json");case 6:for(r=t.sent,o=r.data.results.bindings,i=0;i<o.length;i++)c=o[i],label=c.label.value,label=c.name?c.name.value:label,l={_id:c.keyword.value,to:this.localePath({name:"keyword",query:{id:c.keyword.value}}),_source:{_label:label,description:c.description?c.description.value:"",_url:c.keyword.value,_thumbnail:c.pthumbnail?c.pthumbnail.value:"mdi-tag"}},this.results.results_w_thumbnail.push(l);case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),h}(m.Vue);O([Object(m.Prop)()],R.prototype,"u",void 0),O([Object(m.Watch)("u")],R.prototype,"watchU",null);var w=R=O([Object(m.Component)({components:{HorizontalItems:_.default}})],R),k=n(99),C=n(134),I=n.n(C),x=n(491),component=Object(k.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return this.results.results_w_thumbnail.length>0?e("v-container",[e("h2",{staticClass:"mt-5 mb-3 text-center"},[this._v(this._s(this.$t("Related Keywords")))]),this._v(" "),e("HorizontalItems",{attrs:{data:this.results.results_w_thumbnail}})],1):this._e()}),[],!1,null,null,null);e.default=component.exports;I()(component,{HorizontalItems:n(493).default}),I()(component,{VContainer:x.a})},510:function(t,e,n){"use strict";n.r(e);n(16),n(31),n(62),n(217),n(50);var r=n(113),o=n.n(r),c=n(465),l=n(471),h=n(466),f=n(469),d=n(6);n(302);delete d.Icon.Default.prototype._getIconUrl,d.Icon.Default.mergeOptions({iconRetinaUrl:n(303),iconUrl:n(220),shadowUrl:n(304)});var m={components:{LMap:c.a,LTileLayer:l.a,LMarker:h.a,LPopup:f.a},props:["u"],data:function(){return{link:null,zoom:5,center:[35.681489,139.767136],center2:[],url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[]}},watch:{u:function(){this.search()}},created:function(){this.search()},methods:{search:function(){var t=this;if(null!=this.u){this.markers=[];var u=this.u.split("/"),e="";e+="SELECT DISTINCT ?s ?label ?type ?spatial ?lat ?long WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+u[u.length-1]+"\"')) . \n",e+="\t?s jps:accessInfo/schema:provider ?provider . \n",e+="\t?provider schema:location ?spatial . \n",e+="\t?spatial schema:geo ?geo . \n",e+="\t?geo schema:latitude ?lat  . \n",e+="\t?geo schema:longitude ?long . \n",e+="} ",o.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then((function(e){var n=e.data.results.bindings;if(n.length>0){for(var r=0,o=0,i=0;i<n.length;i++){var c=n[i],marker={latlng:[Number(c.lat.value),Number(c.long.value)],content:c.label.value,url:c.s.value.replace("/data/","/item/")};t.markers.push(marker),r+=Number(c.lat.value),o+=Number(c.long.value)}var l=[r/n.length,o/n.length];t.center2=l}}))}}}},v=n(99),y=n(134),_=n.n(y),j=n(491),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.markers.length>0?n("v-container",[n("h2",{staticClass:"mt-5 mb-3 text-center"},[t._v(t._s(t.$t("過去の展覧会を探す")))]),t._v(" "),n("div",{staticStyle:{width:"100%",height:"600px"}},[n("l-map",{attrs:{zoom:t.zoom,center:t.center}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t._l(t.markers,(function(marker,e){return n("l-marker",{key:e,attrs:{"lat-lng":marker.latlng}},[n("l-popup",[n("a",{attrs:{target:"_blank",href:marker.url}},[t._v(t._s(marker.content))])])],1)}))],2)],1)]):t._e()}),[],!1,null,null,null);e.default=component.exports;_()(component,{VContainer:j.a})},511:function(t,e,n){"use strict";n.r(e);n(27),n(44),n(297),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(497);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=function(t){Object(l.a)(f,t);var e,n,h=j(f);function f(){var t;return Object(o.a)(this,f),(t=h.apply(this,arguments)).baseUrl="https://nakamura196.github.io/jpsearch2",t.item={},t}return Object(c.a)(f,[{key:"watchR",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,label,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.u,n=this.lang,r="\n      SELECT distinct * WHERE {\n        BIND(<".concat(e,"> as ?s)\n        ?s rdfs:label ?label.\n        OPTIONAL {?s schema:description ?comment . }\n        ").concat("ja"===n?"OPTIONAL {?s schema:name ?kana . filter (lang(?kana) = 'ja-kana')}":"OPTIONAL {?s schema:name ?name . filter (lang(?name) = 'en')}","\n        OPTIONAL {?s schema:image ?thumbnail . }\n        OPTIONAL {?s owl:sameAs ?wid . ?wid rdfs:isDefinedBy <http://www.wikidata.org/> }\n      }\n      LIMIT 1\n    "),t.next=5,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(r)+"&output=json");case 5:if(o=t.sent,(c=o.data.results.bindings[0]).thumbnail||!c.wid){t.next=12;break}return t.next=10,this.search4wiki(c.wid.value);case 10:t.t0=t.sent,c.thumbnail={value:t.t0};case 12:label=c.label.value,label=c.name?c.name.value:label,l={_id:c.s.value,_source:{_label:label,kana:c.kana?c.kana.value:"",description:c.comment?c.comment.value:"",_thumbnail:c.thumbnail?c.thumbnail.value:null,_url:"https://nakamura196.github.io/jpsearch2"+this.$route.fullPath}},this.item=l;case 16:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"search4wiki",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(u){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="PREFIX schema: <http://schema.org/> \n",e+="SELECT distinct * WHERE { \n",e+="<"+u+"> wdt:P18 ?thumbnail. \n",e+="} \n",e+="LIMIT 1 \n",t.next=7,y.a.get("https://query.wikidata.org/sparql?query="+encodeURIComponent(e)+"&output=json");case 7:if(!((n=t.sent).data.results.bindings.length>0)){t.next=13;break}return r=n.data.results.bindings[0],t.abrupt("return",r.thumbnail.value);case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"lang",get:function(){return this.$i18n.locale}}]),f}(m.Vue);O([Object(m.Prop)()],R.prototype,"u",void 0),O([Object(m.Watch)("$route")],R.prototype,"watchR",null);var w=R=O([Object(m.Component)({components:{ResultOption:_.default}})],R),k=n(99),C=n(134),I=n.n(C),x=n(289),E=n(491),P=n(167),D=n(55),T=n(550),component=Object(k.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return Object.keys(t.item).length>0?n("div",[t.item._source._thumbnail?n("v-sheet",{attrs:{color:"grey lighten-4"}},[n("v-img",{staticStyle:{height:"300px"},attrs:{src:t.item._source._thumbnail,contain:""}})],1):t._e(),t._v(" "),n("v-container",{staticClass:"my-5"},[n("h1",[t._v("\n      "+t._s(t.item._source._label)+"\n    ")]),t._v(" "),"ja"==t.lang?n("span",[t._v(t._s(t.item._source.kana))]):t._e(),t._v(" "),n("p",{staticClass:"my-5"},[t._v(t._s(t.item._source.description))]),t._v(" "),n("div",{staticClass:"text-center my-5"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"mr-5",attrs:{target:"_blank",href:"https://jpsearch.go.jp/rdf/sparql/easy/?describe="+encodeURIComponent(t.item._id)+"&qrel=contributor",icon:""}},r),[n("v-img",{attrs:{contain:"",width:"30px",src:t.baseUrl+"/img/icons/rdf-logo.svg"}})],1)]}}],null,!1,1566953876)},[t._v(" "),n("span",[t._v(t._s(t.$t("RDF")))])]),t._v(" "),n("ResultOption",{attrs:{item:{label:t.item._source._label,url:t.item._source._url}}})],1)])],1):t._e()}),[],!1,null,null,null);e.default=component.exports;I()(component,{ResultOption:n(497).default}),I()(component,{VBtn:x.a,VContainer:E.a,VImg:P.a,VSheet:D.a,VTooltip:T.a})},512:function(t,e,n){"use strict";n.r(e);n(297);var r=n(26),o=n(41),c=n(34),l=n(28),h=n(13),f=n(170),d=n(497);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},y=function(t){Object(o.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(f.Vue);v([Object(f.Prop)({required:!0})],y.prototype,"item",void 0),v([Object(f.Prop)({default:240})],y.prototype,"width",void 0),v([Object(f.Prop)({default:300})],y.prototype,"height",void 0),v([Object(f.Prop)({default:!1})],y.prototype,"horizontal",void 0);var _=y=v([Object(f.Component)({components:{ResultOption:d.default}})],y),j=(n(521),n(99)),O=n(134),R=n.n(O),w=n(515),k=n(494),C=n(549),I=n(205),x=n(167),E=n(488),component=Object(j.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{class:t.horizontal?"":"mb-4",style:t.horizontal?"width: "+t.width+"px;":"",attrs:{flat:"",outlined:"","no-body":""}},[t.item.to?[n("nuxt-link",{attrs:{to:t.item.to}},[t.item._source._thumbnail.includes("mdi-")?[n("div",{staticClass:"text-center grey lighten-2 pa-10",staticStyle:{height:"150px"}},[n("v-icon",{attrs:{size:"75"}},[t._v(t._s(t.item._source._thumbnail))])],1)]:[n("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:t.item._source._thumbnail,contain:"",width:"100%"}})]],2)]:[n("a",{attrs:{href:t.item.href,target:"_blank"}},[t.item._source._thumbnail.includes("mdi-")?[n("div",{staticClass:"text-center grey lighten-2 pa-10",staticStyle:{height:"150px"}},[n("v-icon",{attrs:{size:"75"}},[t._v(t._s(t.item._source._thumbnail))])],1)]:[n("v-img",{staticClass:"grey lighten-2",staticStyle:{height:"150px"},attrs:{src:t.item._source._thumbnail,contain:"",width:"100%"}})]],2)],t._v(" "),n("div",{staticClass:"pa-4",style:t.horizontal?"width: "+t.width+"px; height: 150px; overflow-y: auto;":""},[t.item.to?[n("nuxt-link",{attrs:{to:t.item.to}},[n("h4",{domProps:{innerHTML:t._s(t.item._source._label)}})])]:[n("a",{attrs:{href:t.item.href,target:"_blank"}},[n("h4",{domProps:{innerHTML:t._s(t.item._source._label)}})])],t._v(" "),t.item._source.description?[n("div",{staticClass:"mt-2"},[t._v("\n        "+t._s(t.item._source.description)+"\n      ")])]:t._e()],2),t._v(" "),t.item.share_hide?t._e():[n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("ResultOption",{attrs:{item:{label:t.item._source._label,url:t.item._source._url}}})],1)]],2)}),[],!1,null,null,null);e.default=component.exports;R()(component,{ResultOption:n(497).default}),R()(component,{VCard:w.a,VCardActions:k.a,VDivider:C.a,VIcon:I.a,VImg:x.a,VSpacer:E.a})},513:function(t,e,n){"use strict";n.r(e);n(297);var r=n(26),o=n(35),c=n(41),l=n(34),h=n(28),f=n(13),d=n(170);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var v=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},y=function(t){Object(c.a)(n,t);var e=m(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).baseUrl="https://nakamura196.github.io/jpsearch2",t}return Object(o.a)(n,[{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?url="+this.url+"&text="+this.title}},{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.url}},{key:"pocketUrl",get:function(){return"http://getpocket.com/edit?url="+this.url}}]),n}(d.Vue);v([Object(d.Prop)({required:!0})],y.prototype,"url",void 0),v([Object(d.Prop)({required:!0})],y.prototype,"title",void 0);var _=y=v([d.Component],y),j=n(99),O=n(134),R=n.n(O),w=n(289),k=n(515),C=n(205),I=n(550),component=Object(j.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.twitterUrl}},r),[n("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s("Twitter"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.facebookUrl}},r),[n("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s("Facebook"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.pocketUrl}},r),[n("img",{staticStyle:{"font-size":"24px"},attrs:{src:t.baseUrl+"/img/icons/pocket.svg"}})])]}}])},[t._v(" "),n("span",[t._v(t._s("Pocket"))])])],1)}),[],!1,null,null,null);e.default=component.exports;R()(component,{VBtn:w.a,VCard:k.a,VIcon:C.a,VTooltip:I.a})},514:function(t,e,n){"use strict";n.r(e);n(27),n(297),n(31),n(62),n(217),n(50),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(493);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=function(t){Object(l.a)(h,t);var e,n=j(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).results={results_w_thumbnail:[]},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){for(var t in this.results)this.results[t]=[];this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var u,e,n,r,o,i,c,label,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.u.split("/"),e=u[u.length-1],n="\n        PREFIX wrp: <http://purl.org/net/ld/wrapper/term#>\n        SELECT distinct ?uri ?label ?image WHERE {\n          BIND(chname:".concat(e,' as ?cname)\n            {\n              ?cname schema:name ?ename. \n              FILTER(lang(?ename)="en")\n\n              BIND(concat(strafter(?ename, ", "), " ", strbefore(?ename, ",")) as ?name)\n\n              SERVICE SILENT <http://www.kanzaki.com/works/ld/wrapper/dpla-sparqler> {\n                ?uri a "image" ;\n                  wrp:title ?label ;\n                  wrp:creator ?name ;\n                  wrp:image ?image\n              \n            }\n          }\n        }\n        ORDER BY RAND()\n        LIMIT ').concat(20,"\n      "),t.next=6,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(n)+"&output=json");case 6:for(r=t.sent,o=r.data.results.bindings,i=0;i<o.length;i++)c=o[i],label=c.label.value,l={_id:c.uri.value,href:c.uri.value.replace("/data/","/item/"),_source:{_label:label,_url:c.uri.value,_thumbnail:c.image?c.image.value:"https://jpsearch.go.jp/assets/img/no-image/curation-no-image_greylighter.png"}},this.results.results_w_thumbnail.push(l);case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),h}(m.Vue);O([Object(m.Prop)()],R.prototype,"u",void 0),O([Object(m.Watch)("u")],R.prototype,"watchU",null);var w=R=O([Object(m.Component)({components:{HorizontalItems:_.default}})],R),k=n(99),C=n(134),I=n.n(C),x=n(491),component=Object(k.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return this.results.results_w_thumbnail.length>0?e("v-container",[e("h2",{staticClass:"mt-5 mb-3 text-center"},[this._v("\n    "+this._s("Digital Public Library of America")+"\n  ")]),this._v(" "),e("HorizontalItems",{attrs:{data:this.results.results_w_thumbnail}})],1):this._e()}),[],!1,null,null,null);e.default=component.exports;I()(component,{HorizontalItems:n(493).default}),I()(component,{VContainer:x.a})},521:function(t,e,n){"use strict";n(505)},522:function(t,e,n){(e=n(18)(!1)).push([t.i,"a{text-decoration:none}",""]),t.exports=e},523:function(t,e,n){"use strict";n(506)},524:function(t,e,n){(e=n(18)(!1)).push([t.i,".horizontal-list{overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;padding-left:0!important;padding-right:0}.item{display:inline-block;margin-right:16px}",""]),t.exports=e},533:function(t,e,n){"use strict";n.r(e);n(27),n(44),n(297),n(31),n(62),n(217),n(50),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(493),j=(n(16),{name:"Chart",extends:n(516).a,props:["query","type","u"],data:function(){return{uris:[],total:0}},watch:{u:function(){this.init()}},created:function(){this.init()},methods:{handle:function(t,e){var n=e[0];if(n){var r=this.uris[n._index],o="keyword"===this.type?"schema:about <".concat(this.u,"> "):"",c="\n        SELECT DISTINCT ?cho ?label ?image WHERE {\n          {\n            ?cho rdfs:label ?label;\n            ".concat(o,"\n          } UNION {\n            ?cho rdfs:label ?label;\n            ?x ?y . ?y <https://jpsearch.go.jp/term/property#value> <").concat(this.u,">\n          }\n          ?cho rdfs:label ?label ;  jps:sourceInfo/schema:provider <").concat(r,"> .\n          OPTIONAL {?cho schema:image ?image}\n        }\n      "),l="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(c);open(l,"_blank")}else console.log({point:t})},init:function(){var t=this;this.chartData=[];var e=this.query;y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then((function(e){for(var n=e.data.results.bindings,r=[],o=[],c=[],i=0;i<n.length;i++){var l=n[i],h=l.provider.value.split("/"),label=l.pLabel?l.pLabel.value:h[h.length-1];label=l.name?l.name.value:label,r.push(label),o.push(Number(l.c.value)),c.push(l.provider.value),Number(l.c.value)}t.total=0,t.uris=c;var data={labels:r,datasets:[{label:"Item",data:o,borderWidth:1}]},f={scales:{yAxes:[{ticks:{beginAtZero:TextTrackCue}}]},responsive:!0,maintainAspectRatio:!1,onClick:t.handle};t.renderChart(data,f)}))}}}),O=n(99),R=Object(O.a)(j,void 0,void 0,!1,null,null,null).exports;function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},C=function(t){Object(l.a)(h,t);var e,n=w(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).results={results_w_thumbnail:[]},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){for(var t in this.results)this.results[t]=[];this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,u,r,o,c,l,i,h,label,f,d,m,v=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=v.length>0&&void 0!==v[0]&&v[0],n=20,u=this.u,r=this.$i18n.locale,o="\n        SELECT distinct ?cho ?label ?thumbnail ?p ?p_label ?name ?p_name WHERE {\n          {\n            ?cho rdfs:label ?label;\n            schema:about <".concat(u,"> .\n          } \n          \n          ").concat(e?"MINUS { ?cho schema:image ?thumbnail } ":"?cho schema:image ?thumbnail .","\n          ?cho jps:sourceInfo ?sourceInfo .\n          ?sourceInfo schema:provider ?p .\n          optional { ?p rdfs:label ?p_label . } \n\n          ").concat("ja"===r?"":"OPTIONAL {?cho schema:name ?name . filter (lang(?name) = 'en')} OPTIONAL {?p schema:name ?p_name . filter (lang(?p_name) = 'en')}","\n        }\n        ORDER BY RAND()\n        LIMIT ").concat(n,"\n      "),t.next=7,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(o)+"&output=json");case 7:for(c=t.sent,l=c.data.results.bindings,i=0;i<l.length;i++)h=l[i],label=h.label.value,label=h.name?h.name.value:label,f=h.p.value.split("/"),d=h.p_label?h.p_label.value:f[f.length-1],d=h.p_name?h.p_name.value:d,m={_id:h.cho.value,href:h.cho.value.replace("/data/","/item/"),_source:{_label:label,description:d,_url:h.cho.value,_thumbnail:h.thumbnail?h.thumbnail.value:"https://jpsearch.go.jp/assets/img/no-image/curation-no-image_greylighter.png"}},this.results.results_w_thumbnail.push(m);!e&&l.length<10&&this.search(!0);case 11:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"query",get:function(){var t=this.$i18n.locale,u=this.u;return"\n        SELECT (count(distinct ?cho) as ?c) ?pLabel ?name ?provider WHERE {\n          {\n            ?cho rdfs:label ?label;\n            schema:about <".concat(u,"> .\n          } \n          \n          ?cho jps:sourceInfo ?source .\n\n          ?source schema:provider ?provider .\n          optional { ?provider rdfs:label ?pLabel . }\n\n          ").concat("ja"===t?"":'?provider schema:name ?name . filter(lang(?name) = "en")',"\n        }\n        group by ?pLabel ?name ?provider order by desc(?c)\n        LIMIT 10\n    ")}}]),h}(m.Vue);k([Object(m.Prop)()],C.prototype,"u",void 0),k([Object(m.Watch)("u")],C.prototype,"watchU",null);var I=C=k([Object(m.Component)({components:{HorizontalItems:_.default,Chart:R}})],C),x=n(134),E=n.n(x),P=n(515),D=n(491),T=Object(O.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.results.results_w_thumbnail.length>0?n("v-container",[n("h2",{staticClass:"mt-5 mb-3 text-center"},[t._v(t._s(t.$t("Items")))]),t._v(" "),n("HorizontalItems",{attrs:{data:t.results.results_w_thumbnail}}),t._v(" "),n("v-card",{staticClass:"my-5 pa-5",attrs:{flat:""}},[n("div",{staticClass:"text-center"},[n("small",[n("h3",{staticClass:"mb-5"},[t._v(t._s(t.$t("データベース（上位10件）")))])])]),t._v(" "),n("Chart",{attrs:{height:300,query:t.query,type:"keyword",u:t.u}})],1)],1):t._e()}),[],!1,null,null,null);e.default=T.exports;E()(T,{HorizontalItems:n(493).default,Chart:n(503).default}),E()(T,{VCard:P.a,VContainer:D.a})},536:function(t,e,n){"use strict";n.r(e);n(299),n(300),n(27),n(44),n(297),n(31),n(217),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(493);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=function(t){Object(l.a)(h,t);var e,n=j(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).results={results_w_thumbnail:[]},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){for(var t in this.results)this.results[t]=[];this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,u,r,o,c,l,i,h,label,f,d=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=d.length>0&&void 0!==d[0]&&d[0],console.log({searchNoThumbFlag:e}),n=20,u=this.u,r=this.$i18n.locale,o="\n        SELECT distinct ?dest ?label ?thumbnail ?description ?name WHERE {\n          \n          ?cho schema:about <".concat(u,'>;\n          jps:agential\n          [jps:relationType/skos:broader?/rdfs:label "制作"; jps:value ?dest ] .\n          \n          ').concat(e?"MINUS { ?dest schema:image ?thumbnail } ":"?dest schema:image ?thumbnail .","\n          ?dest rdfs:label ?label .\n          optional { ?dest schema:description ?description . }\n\n          ").concat("ja"===r?"":"OPTIONAL {?dest schema:name ?name . filter (lang(?name) = 'en')} OPTIONAL {?p schema:name ?p_name . filter (lang(?p_name) = 'en')}","\n        }\n        ORDER BY RAND()\n        LIMIT ").concat(n,"\n      "),t.next=8,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(o)+"&output=json");case 8:for(c=t.sent,l=c.data.results.bindings,i=0;i<l.length;i++)h=l[i],label=h.label.value,label=h.name?h.name.value:label,f={_id:h.dest.value,to:this.localePath({name:"item",query:{id:h.dest.value}}),_source:{_label:label,description:h.description?h.description.value:"",_url:h.dest.value,_thumbnail:h.thumbnail?h.thumbnail.value:"mdi-account"}},this.results.results_w_thumbnail.push(f);!e&&l.length<10&&this.search(!0);case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),h}(m.Vue);O([Object(m.Prop)()],R.prototype,"u",void 0),O([Object(m.Prop)()],R.prototype,"type",void 0),O([Object(m.Watch)("u")],R.prototype,"watchU",null);var w=R=O([Object(m.Component)({components:{HorizontalItems:_.default}})],R),k=n(99),C=n(134),I=n.n(C),x=n(491),component=Object(k.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.results.results_w_thumbnail.length>0?n("v-container",[n("h2",{staticClass:"mt-5 mb-3 text-center"},[t._v(t._s(t.$t("Related "+t.type)))]),t._v(" "),n("HorizontalItems",{attrs:{data:t.results.results_w_thumbnail}})],1):t._e()}),[],!1,null,null,null);e.default=component.exports;I()(component,{HorizontalItems:n(493).default}),I()(component,{VContainer:x.a})},537:function(t,e,n){"use strict";n.r(e);n(27),n(44),n(297),n(31),n(217),n(49);var r=n(15),o=n(26),c=n(35),l=n(41),h=n(34),f=n(28),d=n(13),m=n(170),v=n(113),y=n.n(v),_=n(493);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var O=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=function(t){Object(l.a)(h,t);var e,n=j(h);function h(){var t;return Object(o.a)(this,h),(t=n.apply(this,arguments)).results={results_w_thumbnail:[]},t}return Object(c.a)(h,[{key:"watchU",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){for(var t in this.results)this.results[t]=[];this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var u,e,n,r,o,i,c,label,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.u,e=this.$i18n.locale,n="\n        SELECT DISTINCT ?keyword ?label ?name WHERE { \n          ?s schema:about <".concat(u,"> . \n          ?s schema:about ?keyword . \n          FILTER(?keyword != <").concat(u,"> ) . \n\n          ?keyword rdfs:label ?label . \n\n          ").concat("ja"===e?"":"OPTIONAL {?keyword schema:name ?name . filter (lang(?name) = 'en')}","\n        }\n        ORDER BY RAND()\n        LIMIT ").concat(20,"\n      "),t.next=6,y.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(n)+"&output=json");case 6:for(r=t.sent,o=r.data.results.bindings,i=0;i<o.length;i++)c=o[i],label=c.label.value,label=c.name?c.name.value:label,l={_id:c.keyword.value,to:this.localePath({name:"keyword",query:{id:c.keyword.value}}),_source:{_label:label,_url:c.keyword.value,_thumbnail:c.thumbnail?c.thumbnail.value:"mdi-tag"}},this.results.results_w_thumbnail.push(l);case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),h}(m.Vue);O([Object(m.Prop)()],R.prototype,"u",void 0),O([Object(m.Watch)("u")],R.prototype,"watchU",null);var w=R=O([Object(m.Component)({components:{HorizontalItems:_.default}})],R),k=n(99),C=n(134),I=n.n(C),x=n(491),component=Object(k.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return this.results.results_w_thumbnail.length>0?e("v-container",[e("h2",{staticClass:"mt-5 mb-3 text-center"},[this._v(this._s(this.$t("Related Keywords")))]),this._v(" "),e("HorizontalItems",{attrs:{data:this.results.results_w_thumbnail}})],1):this._e()}),[],!1,null,null,null);e.default=component.exports;I()(component,{HorizontalItems:n(493).default}),I()(component,{VContainer:x.a})},577:function(t,e,n){"use strict";n.r(e);n(44),n(297),n(31),n(50);var r=n(26),o=n(35),c=n(41),l=n(34),h=n(28),f=n(13),d=n(170),m=n(496),v=n(511),y=n(537),_=n(533),j=n(536),O=n(510),R=n(509),w=n(508),k=n(514),C=n(501);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var x=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},E=function(t){Object(c.a)(n,t);var e=I(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).endpoint="https://jpsearch.go.jp/rdf/sparql?query=",t.title=t.$t("Item"),t.id=null,t.name="keywords",t.type="keyword",t}return Object(o.a)(n,[{key:"watchR",value:function(){this.init()}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){var t=this.$route.query.id+""||"https://jpsearch.go.jp/term/keyword/教会";this.id=t;var e=t.split("/");this.title=e[e.length-1]}},{key:"head",value:function(){return{title:this.title}}},{key:"items",get:function(){return[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"})},{text:this.$t(this.type),disabled:!1,to:this.localePath({name:this.name})},{text:this.title+this.$t("の自動ギャラリー")}]}}]),n}(d.Vue);x([Object(d.Watch)("$route")],E.prototype,"watchR",null);var P=E=x([Object(d.Component)({components:{Grid:m.default,TargetAgent:v.default,RelatedKeywords:y.default,KeywordRelatedItems:_.default,KeywordRelatedAgentials:j.default,Event:O.default,Europeana:w.default,DPLA:k.default,Keywords:R.default,Network:C.default}})],E),D=n(99),T=n(134),S=n.n(T),L=n(528),N=n(491),V=n(205),U=n(55),component=Object(D.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.id?n("div",[n("v-sheet",{attrs:{color:"grey lighten-2"}},[n("v-container",{staticClass:"py-4",attrs:{fluid:""}},[n("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.items},scopedSlots:t._u([{key:"divider",fn:function(){return[n("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}],null,!1,3681283568)})],1)],1),t._v(" "),n("TargetAgent",{staticClass:"mb-5",attrs:{u:t.id}}),t._v(" "),n("RelatedKeywords",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("Keywords",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("KeywordRelatedAgentials",{staticClass:"mt-10 mb-5",attrs:{u:t.id,type:"agential"}}),t._v(" "),n("KeywordRelatedItems",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("Event",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("Network",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("Europeana",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("DPLA",{staticClass:"mt-10 mb-5",attrs:{u:t.id}}),t._v(" "),n("v-container",{staticClass:"my-10"},[n("div",{staticClass:"text-center"},[n("small",[n("h3",{staticClass:"mb-5"},[t._v(t._s(t.$t("二次利用について")))]),t._v(" "),"ja"==t.$i18n.locale?[n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[n("img",{staticStyle:{"border-width":"0"},attrs:{alt:"クリエイティブ・コモンズ・ライセンス",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),n("br"),t._v("この作品は"),n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("クリエイティブ・コモンズ 表示 4.0 国際 ライセンス")]),t._v("の下に提供されています。\n        ")]:[n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[n("img",{staticStyle:{"border-width":"0"},attrs:{alt:"Creative Commons License",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),n("br"),t._v("This work is licensed under a\n          "),n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("Creative Commons Attribution 4.0 International License")]),t._v(".\n        ")],t._v(" "),n("p",{staticClass:"mt-5"},[t._v(t._s(t.$t("ただし、画像は個々の権利表示による")))])],2)])])],1):t._e()}),[],!1,null,null,null);e.default=component.exports;S()(component,{TargetAgent:n(511).default,RelatedKeywords:n(537).default,Keywords:n(509).default,KeywordRelatedAgentials:n(536).default,KeywordRelatedItems:n(533).default,Event:n(510).default,Network:n(501).default,Europeana:n(508).default,DPLA:n(514).default}),S()(component,{VBreadcrumbs:L.a,VContainer:N.a,VIcon:V.a,VSheet:U.a})}}]);